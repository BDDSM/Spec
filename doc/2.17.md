#Бухгалтерский учёт 17

Необходимо реализовать возможность ведения учёта товаров в разрезе мест хранения и партий товаров. Под партией товара понимается документ, регистрирующий его (товара) поступление.

Документ «Приходная накладная» реализует следующую проводку:
`Дт «Товары» - Кт «Поставщики»` на количество и сумму закупаемого товара.

Продажа товара производится с указанного склада и регистрируется документом «Расходная накладная». При заполнении документа партия товара не указывается. При проведении производится проверка достаточности количества на указанном складе продаваемого товара.

Документ «Расходная накладная» реализует следующие проводки:
- `Дт «Прибыли и убытки» - Кт «Товары»` на количество и сумму себестоимости;
- `Дт «Покупатели» - Кт «Прибыли и убытки»` на сумму в продажных ценах.

При продаже товара списание партий этого товара производится либо по дисциплине LIFO («последним пришёл, первым ушёл»), либо FIFO («первым пришёл, первым ушёл»). Какая из дисциплин будет использоваться, определяется в начале года и в течение года не меняется. Себестоимость товара рассчитывается в разрезе партий поступления этого товара на склад, с которого происходит списание.

Товар может перемещаться со склада на склад. Данная операция должна быть реализована через документ «Перемещение», где в шапке указываются склад отправитель и склад получатель, а в табличной части перемещаемый товар и его количество. При перемещении себестоимость товара определяется следующим образом: со склада отправителя себестоимость списывается как при продаже, а на склад получатель товар приходит с партией, которой является текущий документ перемещения товаров. В случае отсутствия необходимого количества товара на складе отправителе документ не должен проводиться.

Проводки, формируемые при проведении документа «Перемещение»:
`Дт «Товары» - Кт «Товары»` на перемещаемое количество и стоимость.

Необходимо построить отчёт о продажах товаров со складов.
Склад | Товар | Кол-во | Себестоимость | Сумма продажи
----- | ----- | ------ | ------------- | -------------
Центральный | | | | 
 | Йогурт | 100 | 1000 | 2000
 | Кефир | 70 | 1400 | 2500
Дальний | | | | 
 | Кефир | 50 | 1050 | 2000

##Пояснения

*Пассивы* – наши обязательства.
*Активы* – откуда можем взять деньги.

Товары в принципе `Актив`. На этом счёте будет 3 аналитики:
- Номенклатура
- Склад
- Партия
Можно провести параллель между счётом `Товары` и РН `ОстаткиНоменклатуры`.

По счёту `Прибыли и убитки` будет 2 аналитики (только обороты, т.к. остатки в отчёте не нужны):
- Номенклатура
- Склад
Можно провести параллель между счётом `ПрибылиУбытки` и РН `Продажи`.

На счёте `Прибыли и убытки` оседает валовая прибыль. Этот счёт `Пассив`.

Проводкой `Дт «Товары» - Кт «Поставщики»` фиксируется приход (увеличивает товары, увелививает задолженность).
Проводкой `Дт «Прибыли и убытки» - Кт «Товары»` фиксируется себестоимость (уменьшает прибыль, уменьшает товары).
Проводкой `Дт «Покупатели» - Кт «Прибыли и убытки»` фиксируется выручка (увеличивает выручку, увеличивает прибыль).
Проводкой `Дт «Товары» - Кт «Товары»` меняется аналитика счёта `Товары` (склад и партия).

Обычно счёта взаиморасчётов являются активно-пассивными. Покупатели – приносят деньги; поставщики – наши обязательства.

###Подзадача "Учёт партий"

При построении отчёта, склад, товар, количество, себестоимость будут браться со счёта `Товары`. Сумма продаж будет браться со счёта `ПрибылиУбытки`. Связь по складу и товару.

Если в условии задачи встречается фраза *"... списать по тому же принципу, как в РасходнаяНакладная..."*, то логику создания движений требуется вынести в общий модуль.
