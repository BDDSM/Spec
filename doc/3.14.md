# Сложные периодические расчёты 14

Начисление зарплаты сотрудникам предприятия осуществляется ежемесячно с использованием метода отклонений. Все сотрудники работают по графику работы, установленному для каждого подразделения отдельно.

Сотрудники предприятия получают оплату по окладу пропорционально отработанному времени в днях. Дневная ставка рассчитывается как начальное значение оклада, делённое на количество рабочих дней в том же периоде, что и фактически отработанные дни. В течение расчётного периода первоначальное значение оклада может быть один раз изменено (выплонен будет учёт неограниченного количества изменнений). Расчёт должен производиться исходя из действующего на рассчитываемую дату начального значения оклада. Например, если начальное значение оклада изменилось 10 августа, то до 10 августа при расчёте берётся старое значение, а начиная с 10 августа – новое.

В случае болезни сотрудник получает пособие, размер которого определяется как количество часов болезни, умноженное на среднюю часовую ставку. Часы болезни рассчитываются по пятидневному графику. Средняя часовая ставка определяется как сумма начисленного оклада за два предыдущих месяца оклада, поделенная на количество отработанных часов в двух предыдущих месяцах. В случае получения сотрудником пособия начисление по окладу не производится.

За каждый день болезни сотрудникам предприятия дополнительно начисляется фиксированная сумма денег в качестве компенсации затрат на лекарства. Размер начисленной суммы не может превышать определенного значения, зафиксированного для каждого сотрудника отдельно в информационной базе.

За произвольный период отработанного времени (должен указываться в документе и может быть меньше периода ведения расчётов, например, всего несколько дней) сотрудникам компании начисляется премия процентом от всех начислений, сделанных в предыдущем же расчётном периоде. Процент премии в течение периода начисления не меняется.

Механизм перерасчётов в рамках данной задачи использовать не надо.

Ввод всех начислений происходит документом «Начисление зарплаты». Считать, что все данные вводятся только в пределах одного месяца, например, можно указать начисление оклада с 10.01 по 31.01, а запись: оклад с 10.01 по 03.02 вводить нельзя.

Для анализа сделанных сотрудникам предприятия начислений в конфигурации необходимо предусмотреть отчёт следующего вида:

Продразделение | Сотрудник | Вид расчета | Период 1 | Период 2 | ...
-------------- | --------- | ----------- | -------- | -------- | ---
 |
Итого: | 
