#Оперативный учёт 40

Организация является учебным центром и занимается проведением обучения слушателей. Обучение проводится в классах, каждый из которых вмещает своё определённое количество слушателей.

В начале месяца составляется расписание курсов на следующий месяц и вводится документ «Расписание», где указано, в каком классе, в какое время и какой курс будет проводиться. Далее документом «Заявка» от слушателей принимаются заявки на обучение.

При вводе расписания необходимо контролировать, что в одном классе, в одно и то же время не могут проводиться разные курсы. Следует считать, что курс длится произвольное количество дней, и занятия по нему длятся полный день, т.е. в один день в одном классе может проводиться не более одного курса. В зависимости от запланированного расписания занятия по курсу могут проводиться в различных классах.

В заявке слушателя указывается, какой курс и в какой срок слушатель собирается прослушать в учебном центре. При проведении заявки необходимо контролировать, чтобы на курс не записалось больше слушателей, чем может вместить класс, в котором этот курс проводится. В заявке слушателя класс не указывается, слушатель автоматически должен быть записан в тот класс, где в этот срок проводится курс. В том случае, если этот курс читается в эти даты в разных классах, то заполнение классов происходит согласно их вместимости, начиная с самого большого.

Специфика работы учебного центра предполагает неполное заполнение классов, т.е. достаточно частой является ситуация, когда количество слушателей меньше, чем вместимость класса.

Необходимо построить отчёты по анализу простоя учебных классов за выбранный промежуток времени. Считать, что учебный центр работает по пятидневному графику рабочего времени.

Класс | Вместимость | % по плану | % по посещению
----- | ----------- | ---------- | --------------
101 | 20 | 75 | 100
103 | 28 | 80 | 90
117 | 15 | 100 | 95

##Пояснения

**% по плану** – считается как отношение в процентах количества занятых дней (на которые запланировано обучение) в классе к общему количеству рабочих дней в периоде. Например, если в месяце 20 рабочих дней, а занятия в классе запланированы на 15 дней, то загрузки класса по планированию составляет 75%.

**% по посещению** – считается как отношение в процентах количества посещений на запланированные курсы, проводимые в этом классе в этот период к общему количеству посещений, которые должны были быть. Например, если вместимость класса 20 мест, в нём запланировано 2 курса на 3 и на 2 дня, на первый курс записались 15 человек, а на второй 10, то процент посещения класса составит `(15*3+10*2) / (20*3+20*2) = 0.65` т.е. 65%.

Фраза *"... в одном классе, в одно и то же время не могут проводиться разные курсы ... курс длится весь день"* указывает на непериодический РС с измерениями `Класс` и `Дата` и ресурсом `Курс`.

*"... заполнение классов происходит согласно их вместимости, начиная с самого большого"* – LIFO.

*"... учебный центр работает по пятидневному графику рабочего времени"* – подойдёт РС `ГрафикиРаботы` из расчётных задач.

Занятость классов будет контролироваться оборотным регистром. Для вида `Остатки` пришлось бы закрывать месяца.

Чтобы отключить помесячное накопление оборотов в итогах РН `ЗанятостьКлассов`, следует настроить агрегаты: использовать всегда, непериодический, `Класс` = активно, `Дата` = активно. Таким образом будут накапливаться обороты за весь период в разрезе классов и дат.

После этого в управлении итогами следует переключить на использование агретов – `Полные возможности -> Агрегаты -> Режим -> Включить режим агрегатов`, после этого <Перестроить>.
